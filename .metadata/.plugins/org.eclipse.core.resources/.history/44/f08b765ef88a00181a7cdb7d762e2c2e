package com.internousdev.login.dao;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import com.internousdev.login.dto.LoginDTO;
import com.internousdev.login.dto.loginDTO;
import com.internousdev.login.util.DBCConnection;
import com.internousdev.login.util.DBConnector;

public class LoginDAO {
	piblic LoginDTO select(String name,Stirng password) throws SQLException{
		loginDTO dto = new LoginDTO();
		DBConnector db = new DBConnection();
		Connection con = db.getConnection();
		String sql="select * from user where user_name=? and password=?";
	
		
		try{
			
			PreparedStatement ps = con.prepareStatement(sql);
			ps.setString(1,name);
			ps.setString(2,password);
			
			ResultSet rs=ps.executeQuery();
			
			if(rs.next()){
				
				dto.setName(rs.getString("user_name"));
				dto.setPassword(rs.getStrign("pasword"));
			}
			
			
		}catch(SQLException e){
			e.printStackTrace();
		}finally{
			con.close();
		}
		
		return dto;
	}
		
	
	

}
